<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>release-1.2.1</title>
    <meta content="text/html;charset=ISO-8859-1" name="Content-Type"/>
    <link href="../style.css" media="screen" rel="stylesheet" type="text/css"/></head>
  <body>
    <div id="navspace">
      <div><a href="http://pylib.org"><img alt="py lib" height="57" id="pyimg" src="http://codespeak.net/img/pylib.png" width="77"/></a></div>
      <div id="menubar">
        <div>
          <div><a class="menu" href="release-1.3.4.html">1.3.4 ANN</a></div></div>
        <div>
          <div><a class="menu" href="../install.html">INSTALL</a></div></div>
        <div>
          <div><a class="menu" href="../contact.html">CONTACT</a></div></div>
        <div>
          <div><a class="menu" href="../changelog.html">CHANGELOG</a></div></div>
        <div>
          <div><a class="menu" href="../faq.html">FAQ</a></div></div>
        <div>
          <div>
            <h3>py.test:</h3>
            <div><a class="menu" href="../test/index.html">Index</a></div>
            <div><a class="menu" href="../test/quickstart.html">Quickstart</a></div>
            <div><a class="menu" href="../test/features.html">Features</a></div>
            <div><a class="menu" href="../test/funcargs.html">Funcargs</a></div>
            <div><a class="menu" href="../test/plugin/index.html">Plugins</a></div>
            <div><a class="menu" href="../test/customize.html">Customize</a></div>
            <div><a class="menu" href="../test/talks.html">Tutorials</a></div><a class="menu" href="http://hudson.testrun.org">hudson-tests</a></div></div>
        <div>
          <div>
            <h3>supporting APIs:</h3>
            <div><a class="menu" href="../index.html">Index</a></div>
            <div><a class="menu" href="../path.html">py.path</a></div>
            <div><a class="menu" href="../code.html">py.code</a></div></div></div></div></div>
    <div id="contentspace">
<div class="document" id="py-test-pylib-1-2-1-little-fixes-and-improvements">
<h1 class="title">py.test/pylib 1.2.1: little fixes and improvements</h1>

<p>py.test is an advanced automated testing tool working with
Python2, Python3 and Jython versions on all major operating
systems.  It has a simple plugin architecture and can run many
existing common Python test suites without modification.  It offers
some unique features not found in other testing tools.
See <a class="reference external" href="http://pytest.org">http://pytest.org</a> for more info.</p>
<p>py.test 1.2.1 brings bug fixes and some new options and abilities triggered
by user feedback:</p>
<ul class="simple">
<li>--funcargs [testpath]  will show available builtin- and project funcargs.</li>
<li>display a short and concise traceback if funcarg lookup fails.</li>
<li>early-load &quot;conftest.py&quot; files in non-dot first-level sub directories.</li>
<li>--tb=line will print a single line for each failing test (issue67)</li>
<li>py.cleanup has a number of new options, cleanups up setup.py related files</li>
<li>fix issue78: always call python-level teardown functions even if the
according setup failed.</li>
</ul>
<p>For more detailed information see the changelog below.</p>
<p>cheers and have fun,</p>
<p>holger</p>
<div class="section" id="changes-between-1-2-1-and-1-2-0">
<h1>Changes between 1.2.1 and 1.2.0</h1>
<ul>
<li><p class="first">refined usage and options for &quot;py.cleanup&quot;:</p>
<pre class="literal-block">
py.cleanup     # remove &quot;*.pyc&quot; and &quot;*$py.class&quot; (jython) files
py.cleanup -e .swp -e .cache # also remove files with these extensions
py.cleanup -s  # remove &quot;build&quot; and &quot;dist&quot; directory next to setup.py files
py.cleanup -d  # also remove empty directories
py.cleanup -a  # synonym for &quot;-s -d -e 'pip-log.txt'&quot;
py.cleanup -n  # dry run, only show what would be removed
</pre>
</li>
<li><p class="first">add a new option &quot;py.test --funcargs&quot; which shows available funcargs
and their help strings (docstrings on their respective factory function)
for a given test path</p>
</li>
<li><p class="first">display a short and concise traceback if a funcarg lookup fails</p>
</li>
<li><p class="first">early-load &quot;conftest.py&quot; files in non-dot first-level sub directories.
allows to conveniently keep and access test-related options in a <tt class="docutils literal">test</tt>
subdir and still add command line options.</p>
</li>
<li><p class="first">fix issue67: new super-short traceback-printing option: &quot;--tb=line&quot; will print a single line for each failing (python) test indicating its filename, lineno and the failure value</p>
</li>
<li><p class="first">fix issue78: always call python-level teardown functions even if the
according setup failed.  This includes refinements for calling setup_module/class functions
which will now only be called once instead of the previous behaviour where they'd be called
multiple times if they raise an exception (including a Skipped exception).  Any exception
will be re-corded and associated with all tests in the according module/class scope.</p>
</li>
<li><p class="first">fix issue63: assume &lt;40 columns to be a bogus terminal width, default to 80</p>
</li>
<li><p class="first">fix pdb debugging to be in the correct frame on raises-related errors</p>
</li>
<li><p class="first">update apipkg.py to fix an issue where recursive imports might
unnecessarily break importing</p>
</li>
<li><p class="first">fix plugin links</p>
</li>
</ul>
</div>
</div>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-7597274-3");
pageTracker._trackPageview();
} catch(err) {}</script>
</body></html>